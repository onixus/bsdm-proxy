# BSDM-Proxy Configuration Example
# Copy to .env and adjust values

# General
HTTP_PORT=1488
METRICS_PORT=9090
RUST_LOG=info
MAX_CACHE_BODY_SIZE=10485760

# Cache
CACHE_CAPACITY=10000
CACHE_TTL_SECONDS=3600

# Kafka
KAFKA_BROKERS=kafka:9092
KAFKA_TOPIC=cache-events
KAFKA_BATCH_SIZE=50
KAFKA_BATCH_TIMEOUT=5

# Authentication (optional)
AUTH_ENABLED=false
AUTH_BACKEND=basic
AUTH_REALM=BSDM-Proxy
AUTH_CACHE_TTL=300

# LDAP (if AUTH_BACKEND=ldap)
#LDAP_SERVERS=ldap://dc1.example.com:389,ldap://dc2.example.com:389
#LDAP_BASE_DN=dc=example,dc=com
#LDAP_BIND_DN=cn=proxy-service,ou=services,dc=example,dc=com
#LDAP_BIND_PASSWORD=secret
#LDAP_USER_FILTER=(sAMAccountName={username})
#LDAP_USE_TLS=false

# ACL (optional)
ACL_ENABLED=false
ACL_DEFAULT_ACTION=allow
ACL_RULES_PATH=/etc/bsdm-proxy/acl-rules.json

# Categorization (optional)
CATEGORIZATION_ENABLED=false
CATEGORIZATION_CACHE_TTL=3600
SHALLALIST_ENABLED=true
SHALLALIST_PATH=/var/lib/shallalist
URLHAUS_ENABLED=true
URLHAUS_API=https://urlhaus-api.abuse.ch/v1/url/
PHISHTANK_ENABLED=true
PHISHTANK_API=https://checkurl.phishtank.com/checkurl/

# Monitoring
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
OPENSEARCH_URL=http://opensearch:9200
