# BSDM-Proxy Configuration
# Copy this file to .env and adjust values as needed

# General Settings
HTTP_PORT=1488
METRICS_PORT=9090
RUST_LOG=info
MAX_CACHE_BODY_SIZE=10485760

# Cache Settings
CACHE_CAPACITY=10000
CACHE_TTL_SECONDS=3600

# Kafka Settings
KAFKA_BROKERS=kafka:9092
KAFKA_TOPIC=cache-events
KAFKA_BATCH_SIZE=50
KAFKA_BATCH_TIMEOUT=5

# Authentication (disabled by default)
AUTH_ENABLED=false
AUTH_BACKEND=basic
AUTH_REALM=BSDM-Proxy
AUTH_CACHE_TTL=300

# LDAP Settings (if AUTH_BACKEND=ldap)
# LDAP_SERVERS=ldap://dc.example.com:389
# LDAP_BASE_DN=dc=example,dc=com
# LDAP_BIND_DN=cn=proxy,ou=services,dc=example,dc=com
# LDAP_BIND_PASSWORD=secret
# LDAP_USER_FILTER=(sAMAccountName={username})
# LDAP_USE_TLS=false

# NTLM Settings (if AUTH_BACKEND=ntlm)
# NTLM_DOMAIN=WORKGROUP
# NTLM_WORKSTATION=PROXY01

# ACL Settings (disabled by default)
ACL_ENABLED=false
ACL_DEFAULT_ACTION=allow
ACL_RULES_PATH=/config/acl-rules.json

# URL Categorization (disabled by default)
CATEGORIZATION_ENABLED=false
CATEGORIZATION_CACHE_TTL=3600

# Shallalist
SHALLALIST_ENABLED=false
SHALLALIST_PATH=/var/lib/shallalist

# URLhaus
URLHAUS_ENABLED=false
URLHAUS_API=https://urlhaus-api.abuse.ch/v1/url/

# PhishTank
PHISHTANK_ENABLED=false
PHISHTANK_API=https://checkurl.phishtank.com/checkurl/

# Custom Categories
CUSTOM_DB_ENABLED=false
CUSTOM_DB_PATH=/config/custom-categories.json

# Monitoring
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
OPENSEARCH_URL=http://opensearch:9200
