name: Sync Wiki

on:
  push:
    branches:
      - main
    paths:
      - 'README.md'
      - '.github/workflows/wiki-sync.yml'
  workflow_dispatch:

jobs:
  sync-wiki:
    runs-on: ubuntu-latest
    
    permissions:
      contents: write
    
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      
      - name: Checkout Wiki
        id: checkout-wiki
        continue-on-error: true
        run: |
          git clone https://x-access-token:${{ secrets.GITHUB_TOKEN }}@github.com/${{ github.repository }}.wiki.git wiki
          if [ ! -d "wiki/.git" ]; then
            echo "wiki_exists=false" >> $GITHUB_OUTPUT
          else
            echo "wiki_exists=true" >> $GITHUB_OUTPUT
          fi
      
      - name: Create Installation Guide
        if: steps.checkout-wiki.outputs.wiki_exists == 'true'
        run: |
          cat > wiki/Installation-Guide.md << 'EOF'
# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ BSDM-Proxy

## –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ:**
- CPU: 2 —è–¥—Ä–∞
- RAM: 4 GB
- –î–∏—Å–∫: 10 GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- OS: Linux (Ubuntu 20.04+, Debian 11+), macOS 11+, Windows 10/11 —Å WSL2

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–ª—è production:**
- CPU: 4+ —è–¥—Ä–∞
- RAM: 8+ GB
- –î–∏—Å–∫: 50+ GB (SSD)
- Network: 1 Gbps+

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### Docker –∏ Docker Compose

#### Ubuntu/Debian
```bash
# –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π
sudo apt-get remove docker docker-engine docker.io containerd runc

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
newgrp docker

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Compose
sudo apt-get update
sudo apt-get install docker-compose-plugin

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π
docker --version
docker compose version
```

#### macOS
```bash
# –ß–µ—Ä–µ–∑ Homebrew
brew install --cask docker
```

#### Windows (WSL2)
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [Docker Desktop –¥–ª—è Windows](https://www.docker.com/products/docker-desktop)
2. –í–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å WSL2 –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Docker Desktop
3. –í WSL2 —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ: `docker --version`

### Rust (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ rustup
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ shell
source $HOME/.cargo/env

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
rustc --version
cargo --version

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
rustup component add clippy rustfmt
```

### OpenSSL

#### Ubuntu/Debian
```bash
sudo apt-get update
sudo apt-get install openssl libssl-dev pkg-config
```

#### macOS
```bash
brew install openssl@3
```

#### Windows (WSL2)
```bash
sudo apt-get install openssl libssl-dev
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/onixus/bsdm-proxy.git
cd bsdm-proxy
```

### –®–∞–≥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
mkdir -p certs
cd certs

# 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ CA (Certificate Authority)
openssl genrsa -out ca.key 4096
openssl req -new -x509 -days 3650 -key ca.key -out ca.crt \
  -subj "/C=RU/ST=Moscow/L=Moscow/O=BSDM/CN=BSDM Root CA"

# 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –¥–ª—è –ø—Ä–æ–∫—Å–∏
openssl genrsa -out server.key 2048
openssl req -new -key server.key -out server.csr \
  -subj "/C=RU/ST=Moscow/L=Moscow/O=BSDM/CN=*.bsdm.local"
openssl x509 -req -in server.csr -CA ca.crt -CAkey ca.key \
  -CAcreateserial -out server.crt -days 365 -sha256

cd ..
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f proxy
```

–ó–∞–ø—É—Å—Ç—è—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- **Zookeeper** ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è Kafka
- **Kafka** (–ø–æ—Ä—Ç 9092) ‚Äî –æ—á–µ—Ä–µ–¥—å —Å–æ–±—ã—Ç–∏–π
- **OpenSearch** (–ø–æ—Ä—Ç 9200) ‚Äî –ø–æ–∏—Å–∫–æ–≤—ã–π –¥–≤–∏–∂–æ–∫
- **BSDM-Proxy** (–ø–æ—Ä—Ç 1488) ‚Äî TLS-–ø—Ä–æ–∫—Å–∏
- **Cache-Indexer** ‚Äî –∏–Ω–¥–µ–∫—Å–∞—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π

### –®–∞–≥ 4: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ CA-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã MITM-–ø—Ä–æ–∫—Å–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç `certs/ca.crt` –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö.

#### Linux (Ubuntu/Debian)
```bash
sudo cp certs/ca.crt /usr/local/share/ca-certificates/bsdm-ca.crt
sudo update-ca-certificates
```

#### macOS
```bash
sudo security add-trusted-cert -d -r trustRoot \
  -k /Library/Keychains/System.keychain certs/ca.crt
```

#### Windows
1. –û—Ç–∫—Ä–æ–π—Ç–µ `certmgr.msc`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–î–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∫–æ—Ä–Ω–µ–≤—ã–µ —Ü–µ–Ω—Ç—Ä—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã**
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `certs/ca.crt`

#### Firefox (–æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
1. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –∑–∞—â–∏—Ç–∞ ‚Üí –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã ‚Üí –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
2. –¶–µ–Ω—Ç—Ä—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ ‚Üí –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –≤—ã–±—Ä–∞—Ç—å `certs/ca.crt`
3. –û—Ç–º–µ—Ç–∏—Ç—å ¬´–î–æ–≤–µ—Ä—è—Ç—å –ø—Ä–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤–µ–±-—Å–∞–π—Ç–æ–≤¬ª

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# 1. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
curl -x https://localhost:1488 https://httpbin.org/get

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞ –≤ OpenSearch
curl "http://localhost:9200/http-cache/_search?pretty&size=5"

# 3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
curl "http://localhost:9200/http-cache/_count?pretty"
```

## ‚ùå –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs kafka
docker-compose logs opensearch

# –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down -v
docker-compose up -d
```

### OpenSearch –ø–∞–¥–∞–µ—Ç —Å OOM (Out of Memory)

–£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ –≤ `docker-compose.yml`:
```yaml
opensearch:
  environment:
    - "OPENSEARCH_JAVA_OPTS=-Xms1g -Xmx1g"  # –ë—ã–ª–æ 512m
```

### Kafka –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Zookeeper

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ Zookeeper –∑–∞–ø—É—â–µ–Ω
docker-compose ps zookeeper

# –†–µ—Å—Ç–∞—Ä—Ç Kafka
docker-compose restart kafka

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
docker-compose exec kafka kafka-broker-api-versions --bootstrap-server kafka:9092
```

### Proxy –Ω–µ –≤–∏–¥–∏—Ç Kafka

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤–æ–π —Å–≤—è–∑–Ω–æ—Å—Ç–∏
docker-compose exec proxy ping -c 3 kafka

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker-compose exec proxy env | grep KAFKA
```

### –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
openssl x509 -in certs/ca.crt -text -noout

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
rm -rf certs/*
# –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –®–∞–≥ 2 –∏–∑ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
```

### curl –≤—ã–¥–∞–µ—Ç "certificate verify failed"

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ª–∏ CA-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
# Linux
ls /etc/ssl/certs | grep bsdm

# macOS
security find-certificate -c "BSDM Root CA" -a

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ!)
curl -k -x https://localhost:1488 https://example.com
```

### –í—ã—Å–æ–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (latency)

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É CPU: `docker stats`
2. –£–≤–µ–ª–∏—á—å—Ç–µ —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ Kafka –≤ cache-indexer
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ L1-cache –≤ Pingora –¥–ª—è –±–æ–ª–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –û—à–∏–±–∫–∞ "cannot build" –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Docker

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
pwd  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å .../bsdm-proxy

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑—ã
docker-compose build --no-cache
```

## üß™ Smoke-test

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```bash
#!/bin/bash
# save as test-bsdm.sh

echo "üß™ BSDM-Proxy Smoke Test"
echo "========================"

# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker —Å–µ—Ä–≤–∏—Å–æ–≤
echo -n "‚úì Docker services... "
if docker-compose ps | grep -q "Up"; then
    echo "OK"
else
    echo "FAIL"
    exit 1
fi

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ OpenSearch
echo -n "‚úì OpenSearch... "
if curl -s http://localhost:9200 | grep -q "opensearch"; then
    echo "OK"
else
    echo "FAIL"
    exit 1
fi

# 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ Kafka
echo -n "‚úì Kafka... "
if docker-compose exec -T kafka kafka-topics --list --bootstrap-server kafka:9092 &>/dev/null; then
    echo "OK"
else
    echo "FAIL"
    exit 1
fi

# 4. –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏
echo -n "‚úì Proxy... "
if curl -s -x https://localhost:1488 https://httpbin.org/get | grep -q "origin"; then
    echo "OK"
else
    echo "FAIL (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ CA-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)"
    exit 1
fi

# 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –≤ OpenSearch (–ø–æ–¥–æ–∂–¥–∞—Ç—å 10 —Å–µ–∫)
echo -n "‚úì Indexing... "
sleep 10
COUNT=$(curl -s "http://localhost:9200/http-cache/_count" | jq -r '.count')
if [ "$COUNT" -gt 0 ]; then
    echo "OK ($COUNT events)"
else
    echo "WARN (no events yet, check cache-indexer logs)"
fi

echo ""
echo "‚úÖ All tests passed!"
```

–ó–∞–ø—É—Å–∫:
```bash
chmod +x test-bsdm.sh
./test-bsdm.sh
```

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å curl

```bash
# GET –∑–∞–ø—Ä–æ—Å
curl -x https://localhost:1488 https://api.github.com/users/octocat

# POST –∑–∞–ø—Ä–æ—Å
curl -x https://localhost:1488 -X POST https://httpbin.org/post \
  -H "Content-Type: application/json" \
  -d '{"key":"value"}'

# –° Basic Authentication
curl -x https://localhost:1488 -u user:password \
  https://example.com/api/data
```

### Python

```python
import requests

proxies = {
    'http': 'https://localhost:1488',
    'https': 'https://localhost:1488',
}

response = requests.get(
    'https://api.github.com/users/octocat',
    proxies=proxies,
    verify='certs/ca.crt'
)

print(response.json())
```

### Node.js

```javascript
const https = require('https');
const fs = require('fs');

const options = {
  hostname: 'api.github.com',
  path: '/users/octocat',
  method: 'GET',
  agent: new https.Agent({
    host: 'localhost',
    port: 1488,
    ca: fs.readFileSync('certs/ca.crt')
  })
};

https.request(options, (res) => {
  console.log('Status:', res.statusCode);
  res.on('data', (d) => process.stdout.write(d));
}).end();
```

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (Linux)

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ ~/.bashrc –∏–ª–∏ ~/.zshrc
export HTTP_PROXY=https://localhost:1488
export HTTPS_PROXY=https://localhost:1488
export NO_PROXY=localhost,127.0.0.1

# –î–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö CA bundle
export REQUESTS_CA_BUNDLE=/usr/local/share/ca-certificates/bsdm-ca.crt
export SSL_CERT_FILE=/usr/local/share/ca-certificates/bsdm-ca.crt
```

---

[‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é](Home) | [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](Architecture) | [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](API)
EOF
      
      - name: Commit and push to Wiki
        if: steps.checkout-wiki.outputs.wiki_exists == 'true'
        working-directory: wiki
        run: |
          git config user.name "github-actions[bot]"
          git config user.email "github-actions[bot]@users.noreply.github.com"
          
          git add Installation-Guide.md
          
          if git diff --staged --quiet; then
            echo "No changes to commit"
          else
            git commit -m "docs: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
            
–ò—Å—Ç–æ—á–Ω–∏–∫: main branch README.md
–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: GitHub Actions"
            git push origin master
            echo "‚úÖ Wiki —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: https://github.com/${{ github.repository }}/wiki/Installation-Guide"
          fi
      
      - name: Wiki not initialized
        if: steps.checkout-wiki.outputs.wiki_exists == 'false'
        run: |
          echo "‚ö†Ô∏è Wiki –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞!"
          echo "–°–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ä—É—á–Ω—É—é:"
          echo "1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/${{ github.repository }}/wiki"
          echo "2. –ù–∞–∂–º–∏—Ç–µ 'Create the first page'"
          echo "3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–º–æ–∂–Ω–æ –ø—É—Å—Ç—É—é)"
          echo "4. –ü–æ–≤—Ç–æ—Ä–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —ç—Ç–æ—Ç workflow"
          exit 1
